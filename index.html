<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Convert real-world street addresses to county parcel identifiers • parcel</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Convert real-world street addresses to county parcel identifiers">
<meta property="og:description" content="Functions in parcel include cleaning, parsing, and creating shortened address stubs to match real-world addresses to county-provided addresses with known parcel identifiers.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">parcel</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.11.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="reference/index.html">Reference</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
<div class="section level1">
<div class="page-header"><h1 id="parcel">parcel<a class="anchor" aria-label="anchor" href="#parcel"></a>
</h1></div>
<!-- badges: start -->

<p>The goal of parcel is to provide tools for matching real-world addresses to reference sets of addresses; e.g., “352 Helen Street”, “352 Helen St.” or “352 helen st”. This package is motivated by the included example data resources of auditor parcel tax data from Hamilton County, Ohio. Use <code><a href="reference/get_parcel_data.html">get_parcel_data()</a></code> to get the corresponding parcel data for a vector of addresses:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/get_parcel_data.html">get_parcel_data</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"1069 Overlook Avenue Cincinnati OH 45238"</span>,</span>
<span>    <span class="st">"419 Elm St. Cincinnati OH 45238"</span>,</span>
<span>    <span class="st">"3333 Burnet Ave Cincinnati OH 45219"</span>,</span>
<span>    <span class="st">"3830 President Drive Cincinnati Ohio 45225"</span>,</span>
<span>    <span class="st">"3544 Linwood Av Cincinnati OH 45226"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 5 × 22</span></span>
<span><span class="co">#&gt;   input_address        parcel_id  score centroid_lat centroid_lon parcel_address</span></span>
<span><span class="co">#&gt;   &lt;chr&gt;                &lt;chr&gt;      &lt;dbl&gt;        &lt;dbl&gt;        &lt;dbl&gt; &lt;chr&gt;         </span></span>
<span><span class="co">#&gt; 1 1069 Overlook Avenu… 1800A800…  0.795         39.1        -84.6 1069 OVERLOOK…</span></span>
<span><span class="co">#&gt; 2 419 Elm St. Cincinn… 54000410…  0.860         39.1        -84.6 419 ELM ST    </span></span>
<span><span class="co">#&gt; 3 3333 Burnet Ave Cin… nonres-c…  0.860         NA           NA   &lt;NA&gt;          </span></span>
<span><span class="co">#&gt; 4 3830 President Driv… president NA             NA           NA   &lt;NA&gt;          </span></span>
<span><span class="co">#&gt; 5 3544 Linwood Av Cin… 01900010…  0.860         39.1        -84.4 3544 LINWOOD …</span></span>
<span><span class="co">#&gt; # ℹ 16 more variables: parcel_addr_number &lt;chr&gt;, parcel_addr_street &lt;chr&gt;,</span></span>
<span><span class="co">#&gt; #   parcel_addr_suffix &lt;chr&gt;, land_use &lt;fct&gt;, condo_id &lt;chr&gt;, condo_unit &lt;chr&gt;,</span></span>
<span><span class="co">#&gt; #   market_total_value &lt;dbl&gt;, acreage &lt;dbl&gt;, homestead &lt;lgl&gt;,</span></span>
<span><span class="co">#&gt; #   rental_registration &lt;lgl&gt;, year_built &lt;dbl&gt;, n_total_rooms &lt;dbl&gt;,</span></span>
<span><span class="co">#&gt; #   n_bedrooms &lt;dbl&gt;, n_full_bathrooms &lt;dbl&gt;, n_half_bathrooms &lt;dbl&gt;,</span></span>
<span><span class="co">#&gt; #   online_market_total_value &lt;dbl&gt;</span></span></code></pre></div>
<p>With this specific goal in mind, parcel includes:</p>
<ul>
<li>functions for cleaning and tagging components of addresses: <strong><code><a href="reference/clean_address.html">clean_address()</a></code></strong>, <strong><code><a href="reference/tag_address.html">tag_address()</a></code></strong>, and <strong><code><a href="reference/create_address_stub.html">create_address_stub()</a></code></strong>
</li>
<li>the <code>cagis_parcels</code> tabular-data-resource, which contains parcel identifiers, parcel addresses, and parcel characteristics downloaded from the <a href="https://cagismaps.hamilton-co.org/cagisportal/mapdata/download" class="external-link">Cincinnati Area Geographic Information System (CAGIS)</a>
</li>
<li>the <code>hamilton_online_parcels</code> tabular-data-resource, which contains parcel characteristics scraped from <a href="https://wedge1.hcauditor.org/" class="external-link">Hamilton County Auditor Online</a>
</li>
<li>functions for joining addresses to parcel identifiers based on an included model pretrained on electronic health record addresses in Hamilton County, OH and a list of custom pseudo-identifiers for multi-building apartment complexes: <strong><code><a href="reference/link_parcel.html">link_parcel()</a></code></strong>, <strong><code><a href="reference/link_apt.html">link_apt()</a></code></strong>
</li>
</ul>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>The development version of parcel can be installed with:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">pak</span><span class="fu">::</span><span class="fu"><a href="https://pak.r-lib.org/reference/pak.html" class="external-link">pak</a></span><span class="op">(</span><span class="st">"geomarker-io/parcel"</span><span class="op">)</span></span></code></pre></div>
<p>{parcel} requires the <code>usaddress</code> python module for tagging addresses and creating address stubs, as well as the <code>dedupe</code> and <code>dedupe-variable-address</code> python modules for matching addresses, all of which can be installed to an existing python environment from inside R using <a href="https://rstudio.github.io/reticulate/index.html" class="external-link">reticulate</a>:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">reticulate</span><span class="fu">::</span><span class="fu"><a href="https://rstudio.github.io/reticulate/reference/py_install.html" class="external-link">py_install</a></span><span class="op">(</span><span class="st">"usaddress"</span>, pip <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="fu">reticulate</span><span class="fu">::</span><span class="fu"><a href="https://rstudio.github.io/reticulate/reference/py_install.html" class="external-link">py_install</a></span><span class="op">(</span><span class="st">"dedupe"</span>, pip <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="fu">reticulate</span><span class="fu">::</span><span class="fu"><a href="https://rstudio.github.io/reticulate/reference/py_install.html" class="external-link">py_install</a></span><span class="op">(</span><span class="st">"dedupe-variable-address"</span>, pip <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p>If there is no <a href="https://rstudio.github.io/reticulate/articles/versions.html" class="external-link">preconfigured</a> or compatible version of Python already available on the system, Miniconda will be installed and the required Python packages will be installed in the standard shared environment for R sessions (typically a virtual environment, or a Conda environment named “r-reticulate”) after <code><a href="http://geomarker.io/parcel/" class="external-link">library(parcel)</a></code> is called.</p>
</div>
<div class="section level2">
<h2 id="identifiers-for-parcels-and-properties">Identifiers for Parcels and Properties<a class="anchor" aria-label="anchor" href="#identifiers-for-parcels-and-properties"></a>
</h2>
<p>A <code>parcel_id</code> refers to the Hamilton County Auditor’s “Parcel Number”, which is referred to as the “Property Number” within the CAGIS Open Data and uniquely identifies properties. In rare cases, multple addresses can share the same parcel boundaries, but have unique <code>parcel_id</code>s and in these cases, their resulting centroid coordinates would also be identical.</p>
<p>Within the process of matching to a parcel, an individual address could be merged with differing types and resolutions of data:</p>
<pre class="mermaid"><code>%%{init: { "fontFamily": "arial" } }%%

flowchart LR
classDef id fill:#fff,stroke:#000,stroke-width:1px;
classDef tool fill:#e8e8e8,stroke:#000,stroke-width:1px,stroke-dasharray: 5 2;
classDef data fill:#fff,stroke:#000,stroke-width:1px;

addr(hospitalization):::id ---&gt; hc("likely in \nHamilton County \n (by ZIP code)"):::data
addr ---&gt; nhc("not in Hamilton  County"):::tool

hc --&gt; inst[institutional parcel]:::id
inst -. "institution 'type' linkage\n (e.g., JFS, CCHMC, RMH)" .-&gt; sdoh("temporary housing,\n foster care,\n low income housing tax credit"):::data

hc --&gt; res(residential parcel):::id

res -- CCHMC \nlinkage --&gt; hhh("home's hospitalization history \n (i.e., pedigree)"):::data
res -- CAGIS &amp; \nODC linkage --&gt; hce(housing code enforcement,\n public service calls, crime):::data

res -- single family dwelling --&gt; vat("family-level SES measures \n (e.g., value, age, condition, tenure)"):::data
res -- multi-family dwelling --&gt; lu("auditor land use type \n (e.g., two family dwelling, \n apartment with 20-39 units)"):::data

hc --&gt; npm(not matched \nto a parcel):::tool</code></pre>
<div class="section level3">
<h3 id="non-residential-parcels">Non-Residential Parcels<a class="anchor" aria-label="anchor" href="#non-residential-parcels"></a>
</h3>
<p>Known non-residential addresses will be matched and returned with a special parcel identifer denoting that the matched parcel is non-residential; e.g., Cincinnati Children’s Hospital Medical Center, Jobs and Family Services, Ronald McDonald House):</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/get_parcel_data.html">get_parcel_data</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"222 E Central Parkway Cincinnati Ohio 45220"</span>,</span>
<span>    <span class="st">"222 central pkwy Cincinnati Ohio 45220"</span>,</span>
<span>    <span class="st">"3333 Burnet Ave Cincinnati Ohio 45219"</span>,</span>
<span>    <span class="st">"3333 Burnet Avenue Cincinnati Ohio 45219"</span>,</span>
<span>    <span class="st">"350 Erkenbrecher Ave Cincinnati Ohio 45219"</span><span class="op">)</span></span>
<span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">input_address</span>, <span class="va">parcel_id</span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 5 × 2</span></span>
<span><span class="co">#&gt;   input_address                               parcel_id     </span></span>
<span><span class="co">#&gt;   &lt;chr&gt;                                       &lt;chr&gt;         </span></span>
<span><span class="co">#&gt; 1 222 E Central Parkway Cincinnati Ohio 45220 nonres-jfs    </span></span>
<span><span class="co">#&gt; 2 222 central pkwy Cincinnati Ohio 45220      nonres-jfs    </span></span>
<span><span class="co">#&gt; 3 3333 Burnet Ave Cincinnati Ohio 45219       nonres-cchmc  </span></span>
<span><span class="co">#&gt; 4 3333 Burnet Avenue Cincinnati Ohio 45219    nonres-cchmc  </span></span>
<span><span class="co">#&gt; 5 350 Erkenbrecher Ave Cincinnati Ohio 45219  nonres-rmh-350</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="condominiums">Condominiums<a class="anchor" aria-label="anchor" href="#condominiums"></a>
</h3>
<p>Because “second line” address components (e.g., “Unit 2B”) are not captured, a single address can refer to multiple parcels in the case of condos or otherwise shared building ownership. For example, the address “323 Fifth St” has six distinct <code>parcel_id</code>s, each with different home values and land uses:</p>
<table class="table">
<thead><tr class="header">
<th align="left">parcel_id</th>
<th align="right">market_total_value</th>
<th align="left">land_use</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">14500010321</td>
<td align="right">397500</td>
<td align="left">condominium unit</td>
</tr>
<tr class="even">
<td align="left">14500010317</td>
<td align="right">123000</td>
<td align="left">condominium office building</td>
</tr>
<tr class="odd">
<td align="left">14500010320</td>
<td align="right">180000</td>
<td align="left">condominium unit</td>
</tr>
<tr class="even">
<td align="left">14500010319</td>
<td align="right">255000</td>
<td align="left">condominium unit</td>
</tr>
<tr class="odd">
<td align="left">14500010322</td>
<td align="right">388230</td>
<td align="left">condominium unit</td>
</tr>
<tr class="even">
<td align="left">14500010318</td>
<td align="right">239500</td>
<td align="left">condominium unit</td>
</tr>
</tbody>
</table>
<p>In this case, a special parcel identifier <code>TIED_MATCH</code> is returned to denote that the address matched more than one parcel:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/get_parcel_data.html">get_parcel_data</a></span><span class="op">(</span><span class="st">"323 Fifth St W Cincinnati OH 45202"</span><span class="op">)</span><span class="op">$</span><span class="va">parcel_id</span></span>
<span><span class="co">#&gt; [1] "TIED_MATCHES"</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="large-apartment-complexes">Large Apartment Complexes<a class="anchor" aria-label="anchor" href="#large-apartment-complexes"></a>
</h3>
<p>Large apartment complexes often use multiple mailing addresses that are not the same as the parcel address(es). In these special cases, <code><a href="reference/link_apt.html">link_apt()</a></code> is used to match addresses exactly based on their street name if the street number falls within a certain range:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="fu">parcel</span><span class="fu">:::</span><span class="va">apt_defs</span><span class="op">)</span></span>
<span><span class="co">#&gt; List of 9</span></span>
<span><span class="co">#&gt;  $ president  :List of 3</span></span>
<span><span class="co">#&gt;   ..$ street_name: chr [1:2] "president drive" "president dr"</span></span>
<span><span class="co">#&gt;   ..$ range_low  : num 3000</span></span>
<span><span class="co">#&gt;   ..$ range_high : num 4999</span></span>
<span><span class="co">#&gt;  $ tower      :List of 3</span></span>
<span><span class="co">#&gt;   ..$ street_name: chr [1:4] "east tower drive" "east tower dr" "e tower drive" "e tower dr"</span></span>
<span><span class="co">#&gt;   ..$ range_low  : num 2000</span></span>
<span><span class="co">#&gt;   ..$ range_high : num 29999</span></span>
<span><span class="co">#&gt;  $ bahama     :List of 3</span></span>
<span><span class="co">#&gt;   ..$ street_name: chr [1:4] "bahama terrace" "bahama te" "bahama ter" "bahama terr"</span></span>
<span><span class="co">#&gt;   ..$ range_low  : num 5000</span></span>
<span><span class="co">#&gt;   ..$ range_high : num 5999</span></span>
<span><span class="co">#&gt;  $ hawaiian   :List of 3</span></span>
<span><span class="co">#&gt;   ..$ street_name: chr [1:4] "hawaiian terrace" "hawaiian te" "hawaiian ter" "hawaiian terr"</span></span>
<span><span class="co">#&gt;   ..$ range_low  : num 4000</span></span>
<span><span class="co">#&gt;   ..$ range_high : num 5999</span></span>
<span><span class="co">#&gt;  $ dewdrop    :List of 3</span></span>
<span><span class="co">#&gt;   ..$ street_name: chr [1:2] "dewdrop circle circle" "dewdrop circle cir"</span></span>
<span><span class="co">#&gt;   ..$ range_low  : num 400</span></span>
<span><span class="co">#&gt;   ..$ range_high : num 599</span></span>
<span><span class="co">#&gt;  $ winneste   :List of 3</span></span>
<span><span class="co">#&gt;   ..$ street_name: chr [1:3] "winneste avenue" "winneste ave" "winneste av"</span></span>
<span><span class="co">#&gt;   ..$ range_low  : num 4000</span></span>
<span><span class="co">#&gt;   ..$ range_high : num 5999</span></span>
<span><span class="co">#&gt;  $ walden_glen:List of 3</span></span>
<span><span class="co">#&gt;   ..$ street_name: chr [1:2] "walden glen circle" "walden glen cir"</span></span>
<span><span class="co">#&gt;   ..$ range_low  : num 2000</span></span>
<span><span class="co">#&gt;   ..$ range_high : num 2999</span></span>
<span><span class="co">#&gt;  $ clovernook :List of 3</span></span>
<span><span class="co">#&gt;   ..$ street_name: chr [1:3] "clovernook avenue" "clovernook ave" "clovernook av"</span></span>
<span><span class="co">#&gt;   ..$ range_low  : num 7000</span></span>
<span><span class="co">#&gt;   ..$ range_high : num 7999</span></span>
<span><span class="co">#&gt;  $ nottingham :List of 3</span></span>
<span><span class="co">#&gt;   ..$ street_name: chr [1:4] "nottingham road" "nottingham rd" "nottingham drive" "nottingham dr"</span></span>
<span><span class="co">#&gt;   ..$ range_low  : num 2000</span></span>
<span><span class="co">#&gt;   ..$ range_high : num 2999</span></span></code></pre></div>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/get_parcel_data.html">get_parcel_data</a></span><span class="op">(</span><span class="st">"5377 Bahama Ter Cincinnati Ohio 45223"</span><span class="op">)</span><span class="op">$</span><span class="va">parcel_id</span></span>
<span><span class="co">#&gt; [1] "bahama"</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="cagis-parcels-data">CAGIS Parcels Data<a class="anchor" aria-label="anchor" href="#cagis-parcels-data"></a>
</h2>
<p>The <code>cagis_parcels</code> tabular data resource (TDR) is created using the R scripts in <code>/inst</code> and stored within the package. It can be loaded using {<a href="https://github.com/cole-brokamp/fr" class="external-link"><code>fr</code></a>}:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">d_parcel</span> <span class="op">&lt;-</span> <span class="fu">fr</span><span class="fu">::</span><span class="fu"><a href="https://cole-brokamp.github.io/fr/reference/read_fr_tdr.html" class="external-link">read_fr_tdr</a></span><span class="op">(</span><span class="fu">fs</span><span class="fu">::</span><span class="fu"><a href="https://fs.r-lib.org/reference/path_package.html" class="external-link">path_package</a></span><span class="op">(</span><span class="st">"parcel"</span>, <span class="st">"cagis_parcels"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">d_parcel</span></span>
<span><span class="co">#&gt; cagis_parcels</span></span>
<span><span class="co">#&gt; - version: 0.11.0</span></span>
<span><span class="co">#&gt; - title: CAGIS Parcels</span></span>
<span><span class="co">#&gt; - homepage: &lt;https://github.com/geomarker-io/hamilton_parcels&gt;</span></span>
<span><span class="co">#&gt; - description: A curated property-level data resource derived from the Hamilton</span></span>
<span><span class="co">#&gt; County, OH Auditor data distributed through CAGIS Open Data:</span></span>
<span><span class="co">#&gt; https://cagismaps.hamilton-co.org/cagisportal/mapdata/download</span></span>
<span><span class="co">#&gt; # A tibble: 259,653 × 14</span></span>
<span><span class="co">#&gt;    parcel_id     centroid_lat centroid_lon parcel_address    parcel_addr_number</span></span>
<span><span class="co">#&gt;    &lt;chr&gt;                &lt;dbl&gt;        &lt;dbl&gt; &lt;chr&gt;             &lt;chr&gt;             </span></span>
<span><span class="co">#&gt;  1 6210023015500         39.3        -84.3 184 CANNONADE DR  184               </span></span>
<span><span class="co">#&gt;  2 6210023017000         39.3        -84.3 154 THOROBRED RD  154               </span></span>
<span><span class="co">#&gt;  3 6210023017700         39.3        -84.3 112 CITATION CT   112               </span></span>
<span><span class="co">#&gt;  4 6210023018100         39.3        -84.3 119 CITATION CT   119               </span></span>
<span><span class="co">#&gt;  5 6210023018500         39.3        -84.3 112 THOROBRED RD  112               </span></span>
<span><span class="co">#&gt;  6 6210023020300         39.3        -84.3 242 CORDERO TL    242               </span></span>
<span><span class="co">#&gt;  7 6210023020500         39.3        -84.3 254 CORDERO TL    254               </span></span>
<span><span class="co">#&gt;  8 6210023022800         39.3        -84.3 212 RIVA RIDGE CT 212               </span></span>
<span><span class="co">#&gt;  9 6210023023100         39.3        -84.3 230 RIVA RIDGE CT 230               </span></span>
<span><span class="co">#&gt; 10 6210023023300         39.3        -84.3 242 RIVA RIDGE CT 242               </span></span>
<span><span class="co">#&gt; # ℹ 259,643 more rows</span></span>
<span><span class="co">#&gt; # ℹ 9 more variables: parcel_addr_street &lt;chr&gt;, parcel_addr_suffix &lt;chr&gt;,</span></span>
<span><span class="co">#&gt; #   land_use &lt;fct&gt;, condo_id &lt;chr&gt;, condo_unit &lt;chr&gt;, market_total_value &lt;dbl&gt;,</span></span>
<span><span class="co">#&gt; #   acreage &lt;dbl&gt;, homestead &lt;lgl&gt;, rental_registration &lt;lgl&gt;</span></span>
<span></span>
<span><span class="va">d_parcel</span><span class="op">@</span><span class="va">schema</span></span>
<span><span class="co">#&gt; parcel_id</span></span>
<span><span class="co">#&gt; - type: string</span></span>
<span><span class="co">#&gt; - description: uniquely identifies properties; the auditor Parcel Number</span></span>
<span><span class="co">#&gt; centroid_lat</span></span>
<span><span class="co">#&gt; - type: number</span></span>
<span><span class="co">#&gt; - description: calculated as centroid of casted multipolygon geometry and</span></span>
<span><span class="co">#&gt; projected from Ohio South to WGS84</span></span>
<span><span class="co">#&gt; centroid_lon</span></span>
<span><span class="co">#&gt; - type: number</span></span>
<span><span class="co">#&gt; - description: calculated as centroid of casted multipolygon geometry and</span></span>
<span><span class="co">#&gt; projected from Ohio South to WGS84</span></span>
<span><span class="co">#&gt; parcel_address</span></span>
<span><span class="co">#&gt; - type: string</span></span>
<span><span class="co">#&gt; - description: derived by pasting parcel_address_{number, street, suffix}`</span></span>
<span><span class="co">#&gt; together</span></span>
<span><span class="co">#&gt; parcel_addr_number</span></span>
<span><span class="co">#&gt; - type: string</span></span>
<span><span class="co">#&gt; parcel_addr_street</span></span>
<span><span class="co">#&gt; - type: string</span></span>
<span><span class="co">#&gt; parcel_addr_suffix</span></span>
<span><span class="co">#&gt; - type: string</span></span>
<span><span class="co">#&gt; land_use</span></span>
<span><span class="co">#&gt; - type: string</span></span>
<span><span class="co">#&gt; - constraints: enum = apartment, 4-19 units, apartment, 20-39 units, apartment,</span></span>
<span><span class="co">#&gt; 40+ units, mobile home / trailer park, other commercial housing, office /</span></span>
<span><span class="co">#&gt; apartment over, single family dwelling, two family dwelling, three family</span></span>
<span><span class="co">#&gt; dwelling, condominium unit, boataminium, condo or pud garage, landominium,</span></span>
<span><span class="co">#&gt; manufactured home, lihtc res, other residential structure, and metropolitan</span></span>
<span><span class="co">#&gt; housing authority</span></span>
<span><span class="co">#&gt; condo_id</span></span>
<span><span class="co">#&gt; - type: string</span></span>
<span><span class="co">#&gt; - description: used to match two parcels to the same building of condos</span></span>
<span><span class="co">#&gt; condo_unit</span></span>
<span><span class="co">#&gt; - type: string</span></span>
<span><span class="co">#&gt; market_total_value</span></span>
<span><span class="co">#&gt; - type: number</span></span>
<span><span class="co">#&gt; acreage</span></span>
<span><span class="co">#&gt; - type: number</span></span>
<span><span class="co">#&gt; homestead</span></span>
<span><span class="co">#&gt; - type: boolean</span></span>
<span><span class="co">#&gt; rental_registration</span></span>
<span><span class="co">#&gt; - type: boolean</span></span>
<span></span>
<span><span class="co"># without fr:</span></span>
<span><span class="co"># read.csv(fs::path_package("parcel", "cagis_parcels"))</span></span></code></pre></div>
<p>Auditor parcel-level data were excluded if they (1) did not contain a parcel identifier, (2) did not contain a property address number/name, or (3) had a duplicated parcel identifier.</p>
<p>Parcels with the following land use categories are included in the data resource and others are excluded. These were selected to reflect <em>residential</em> usages of parcels.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span>, warn.conflicts <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span></span>
<span><span class="va">d_parcel</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">land_use</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">summarize</a></span><span class="op">(</span>n_parcels <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/context.html" class="external-link">n</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html" class="external-link">arrange</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/desc.html" class="external-link">desc</a></span><span class="op">(</span><span class="va">n_parcels</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left">land_use</th>
<th align="right">n_parcels</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">single family dwelling</td>
<td align="right">212995</td>
</tr>
<tr class="even">
<td align="left">condominium unit</td>
<td align="right">20325</td>
</tr>
<tr class="odd">
<td align="left">two family dwelling</td>
<td align="right">11331</td>
</tr>
<tr class="even">
<td align="left">apartment, 4-19 units</td>
<td align="right">5654</td>
</tr>
<tr class="odd">
<td align="left">landominium</td>
<td align="right">3049</td>
</tr>
<tr class="even">
<td align="left">three family dwelling</td>
<td align="right">1854</td>
</tr>
<tr class="odd">
<td align="left">condo or pud garage</td>
<td align="right">1063</td>
</tr>
<tr class="even">
<td align="left">other residential structure</td>
<td align="right">869</td>
</tr>
<tr class="odd">
<td align="left">metropolitan housing authority</td>
<td align="right">744</td>
</tr>
<tr class="even">
<td align="left">apartment, 40+ units</td>
<td align="right">619</td>
</tr>
<tr class="odd">
<td align="left">apartment, 20-39 units</td>
<td align="right">458</td>
</tr>
<tr class="even">
<td align="left">manufactured home</td>
<td align="right">204</td>
</tr>
<tr class="odd">
<td align="left">office / apartment over</td>
<td align="right">187</td>
</tr>
<tr class="even">
<td align="left">boataminium</td>
<td align="right">141</td>
</tr>
<tr class="odd">
<td align="left">other commercial housing</td>
<td align="right">95</td>
</tr>
<tr class="even">
<td align="left">mobile home / trailer park</td>
<td align="right">40</td>
</tr>
<tr class="odd">
<td align="left">lihtc res</td>
<td align="right">25</td>
</tr>
</tbody>
</table>
<p>Some of the parcel characteristics do not make sense in certain contexts and should not be interpreted incorrectly; for example, the value of a parcel for a multi-family or multi-unit housing structure shouldn’t be compared to the value of a parcel for a single-family household for the purposes of assesing individual-level SES.</p>
</div>
<div class="section level2">
<h2 id="hamilton-county-auditor-online-data">Hamilton County Auditor Online Data<a class="anchor" aria-label="anchor" href="#hamilton-county-auditor-online-data"></a>
</h2>
<p>The <code>hamilton_online_parcels</code> TDR is created by linking a saved scraping of the <a href="https://wedge1.hcauditor.org/" class="external-link">auditor’s website</a> to the parcel identifiers in the <code>cagis_parcels</code> TDR.</p>
<p>Similarly, the <code>hamilton_online_parcel</code> TDR is created using the R scripts in <code>/inst</code> and stored within the package. It can be loaded using {<a href="https://github.com/cole-brokamp/fr" class="external-link"><code>fr</code></a>}:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">d_online</span> <span class="op">&lt;-</span> <span class="fu">fr</span><span class="fu">::</span><span class="fu"><a href="https://cole-brokamp.github.io/fr/reference/read_fr_tdr.html" class="external-link">read_fr_tdr</a></span><span class="op">(</span><span class="fu">fs</span><span class="fu">::</span><span class="fu"><a href="https://fs.r-lib.org/reference/path_package.html" class="external-link">path_package</a></span><span class="op">(</span><span class="st">"parcel"</span>, <span class="st">"hamilton_online_parcels"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">d_online</span></span>
<span><span class="co">#&gt; hamilton_online_parcels</span></span>
<span><span class="co">#&gt; - version: 0.11.0</span></span>
<span><span class="co">#&gt; - title: Hamilton Online Parcels</span></span>
<span><span class="co">#&gt; - homepage: &lt;https://github.com/geomarker-io/parcel&gt;</span></span>
<span><span class="co">#&gt; - description: A curated property-level data resource derived from scraping the</span></span>
<span><span class="co">#&gt; Hamilton County, OH Auditor Online: https://wedge1.hcauditor.org/. Data was</span></span>
<span><span class="co">#&gt; scraped for only residential parcels in CAGIS Parcels; see homepage for</span></span>
<span><span class="co">#&gt; details.</span></span>
<span><span class="co">#&gt; # A tibble: 259,653 × 7</span></span>
<span><span class="co">#&gt;    parcel_id     year_built n_total_rooms n_bedrooms n_full_bathrooms</span></span>
<span><span class="co">#&gt;    &lt;chr&gt;              &lt;dbl&gt;         &lt;dbl&gt;      &lt;dbl&gt;            &lt;dbl&gt;</span></span>
<span><span class="co">#&gt;  1 6210023015500       1990             8          4                3</span></span>
<span><span class="co">#&gt;  2 6210023017000       1990             7          3                2</span></span>
<span><span class="co">#&gt;  3 6210023017700       1991             8          4                2</span></span>
<span><span class="co">#&gt;  4 6210023018100       1991             9          4                2</span></span>
<span><span class="co">#&gt;  5 6210023018500       1990             5          3                2</span></span>
<span><span class="co">#&gt;  6 6210023020300       1991             9          4                3</span></span>
<span><span class="co">#&gt;  7 6210023020500       1992             8          4                2</span></span>
<span><span class="co">#&gt;  8 6210023022800       1992             8          4                2</span></span>
<span><span class="co">#&gt;  9 6210023023100       1992             6          2                3</span></span>
<span><span class="co">#&gt; 10 6210023023300       1992             7          3                2</span></span>
<span><span class="co">#&gt; # ℹ 259,643 more rows</span></span>
<span><span class="co">#&gt; # ℹ 2 more variables: n_half_bathrooms &lt;dbl&gt;, online_market_total_value &lt;dbl&gt;</span></span>
<span></span>
<span><span class="va">d_online</span><span class="op">@</span><span class="va">schema</span></span>
<span><span class="co">#&gt; parcel_id</span></span>
<span><span class="co">#&gt; - type: string</span></span>
<span><span class="co">#&gt; year_built</span></span>
<span><span class="co">#&gt; - type: number</span></span>
<span><span class="co">#&gt; n_total_rooms</span></span>
<span><span class="co">#&gt; - type: number</span></span>
<span><span class="co">#&gt; n_bedrooms</span></span>
<span><span class="co">#&gt; - type: number</span></span>
<span><span class="co">#&gt; n_full_bathrooms</span></span>
<span><span class="co">#&gt; - type: number</span></span>
<span><span class="co">#&gt; n_half_bathrooms</span></span>
<span><span class="co">#&gt; - type: number</span></span>
<span><span class="co">#&gt; online_market_total_value</span></span>
<span><span class="co">#&gt; - type: number</span></span>
<span><span class="co">#&gt; - description: May differ from the market_total_value from CAGIS auditor online</span></span>
<span><span class="co">#&gt; data. This value is scraped from the auditor's website.</span></span>
<span></span>
<span><span class="co"># without fr:</span></span>
<span><span class="co"># read.csv(fs::path_package("parcel", "hamilton_online_parcels"))</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="estimating-the-number-of-households-per-parcel">Estimating the number of households per parcel<a class="anchor" aria-label="anchor" href="#estimating-the-number-of-households-per-parcel"></a>
</h2>
<p>Certain calculations needs to be weighted by households instead of parcel; e.g. “What fraction of families live near roadway in Avondale?”. We assume the following as a conservative estimate of the number of households per parcel for each <code>land_use</code> code:</p>
<table class="table">
<thead><tr class="header">
<th align="left"><code>land_use</code></th>
<th align="right">n households</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">single family dwelling</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="left">condominium unit</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="left">two family dwelling</td>
<td align="right">2</td>
</tr>
<tr class="even">
<td align="left">three family dwelling</td>
<td align="right">3</td>
</tr>
<tr class="odd">
<td align="left">apartment, 4-19 units</td>
<td align="right">4</td>
</tr>
<tr class="even">
<td align="left">apartment, 20-39 units</td>
<td align="right">20</td>
</tr>
<tr class="odd">
<td align="left">apartment, 40+ units</td>
<td align="right">40</td>
</tr>
<tr class="even">
<td align="left">landominium</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="left">charities, hospitals, retir</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="left">condo or pud garage</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="left">metropolitan housing authority</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="left">office / apartment over</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="left">manufactured home</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="left">other commercial housing</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="left">nursing home / private hospital</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="left">mobile home / trailer park</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="left">single fam dw 0-9 acr</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="left">independent living (seniors)</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="left">lihtc res</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="left">condominium office building</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">other residential structure</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">boataminium</td>
<td align="right">0</td>
</tr>
</tbody>
</table>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small>GPL (&gt;= 3)</small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing parcel</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Cole Brokamp <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0002-0289-3151" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/geomarker-io/parcel/actions/workflows/R-CMD-check.yaml" class="external-link"><img src="https://github.com/geomarker-io/parcel/actions/workflows/R-CMD-check.yaml/badge.svg" alt="R-CMD-check"></a></li>
</ul>
</div>

  </div>
</div>


      <footer><div class="copyright">
  <p></p>
<p>Developed by Cole Brokamp.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
